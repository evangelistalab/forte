#! Generated using commit GITCOMMIT

import forte

#refmcscf     =  -99.972055826365903 # cc-pVTZ
#refdsrgpt2   = -100.200752137944022 # cc-pVTZ
psi4_casscf     = -99.9393092418
forte_casscf    = -99.9393092425

memory 500 mb

molecule HF{
  0 1
  F
  H  1 R
  R = 1.50
}

set globals{
  basis                   cc-pvdz
  reference               rhf
  d_convergence           10
  e_convergence           12
  frozen_docc             [1,0,0,0]
  restricted_docc         [1,0,1,1]
  active                  [2,0,0,0]
  scf_type                df
  df_basis_mp2            cc-pvdz-jkfit
  df_basis_scf            cc-pvdz-jkfit
  mcscf_type              df
}
psi4_casscf_computed = energy('casscf')
compare_values(psi4_casscf_computed,psi4_casscf,6,"PSI4 CASSCF energy")

set forte{
  job_type                casscf
  int_type                df
  frozen_docc             [1,0,0,0]
  restricted_docc         [1,0,1,1]
  active                  [2,0,0,0]
  casscf_ci_solver        fci
  casscf_maxiter          25
  casscf_e_convergence    7
  casscf_g_convergence    7
  print                   0
}
casscf = energy('forte')
compare_values(forte_casscf,casscf,6,"FORTE CASSCF energy")

set forte {
  job_type              mcscf_two_step
  casscf_micro_maxiter  4
}
casscf = energy('forte')
compare_values(forte_casscf,casscf,6,"FORTE 2-step MCSCF energy")
